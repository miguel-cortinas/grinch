:root{
    --green:#89c926;
    --dark-green:#5a8d1b;
    --red:#e62225;
    --yellow:#fcd93b;
    --bg:#0f0f0f;
}

*{box-sizing:border-box}

body{
    margin:0;
    font-family:'Mountains of Christmas',cursive;
    background:var(--bg);
    height:100vh;
    overflow:hidden;
}

/* CANVAS */
canvas{
    position:fixed;
    inset:0;
    z-index:20;
    pointer-events:none;
}

/* ================= INTRO ================= */
#intro-screen{
    position:fixed;
    inset:0;
    background:radial-gradient(circle,#2a2a2a,#000);
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    z-index:15;
    opacity:1;
    transition:opacity .6s;
}

.fade-out{
    opacity:0;
}

/* ================= REGALO ================= */
.gift-container{
    position:relative;
    cursor:pointer;
    animation:shake 2.5s infinite;
}

.gift-box-bottom{
    width:120px;
    height:100px;
    background:var(--red);
    border-radius:0 0 14px 14px;
    box-shadow:0 8px 25px rgba(230,34,37,.7);
}

.gift-lid{
    position:absolute;
    top:-28px;
    left:-10px;
    width:140px;
    height:38px;
    background:var(--red);
    border-radius:8px;
    box-shadow:0 6px 15px rgba(0,0,0,.4);
}

.ribbon{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    width:22px;
    height:100%;
    background:var(--green);
}

.bow{
    position:absolute;
    top:-34px;
    left:50%;
    transform:translateX(-50%);
    width:60px;
    height:30px;
}

.bow::before,
.bow::after{
    content:"";
    position:absolute;
    width:30px;
    height:30px;
    border:5px solid var(--green);
    border-radius:50% 50% 0 50%;
}
.bow::after{
    right:0;
    transform:scaleX(-1);
}

.tap-text{
    margin-top:50px;
    font-size:1.6rem;
    color:var(--green);
    animation:pulse 1s infinite alternate;
}

/* APERTURA */
.opening .gift-lid{
    animation:lidFly .7s forwards cubic-bezier(.2,.8,.3,1.2);
}

.opening .gift-box-bottom{
    animation:boxDrop .6s forwards ease-in;
}

/* ================= INVITACIÃ“N ================= */
#main-card{
    display:none;
    position:fixed;
    inset:0;
    z-index:5;
    justify-content:center;
    align-items:center;
}

.card{
    width:90%;
    max-width:360px;
    background:linear-gradient(160deg,#9fe23a,#7fbf1f);
    border:4px solid #000;
    border-radius:24px 220px 32px 240px / 240px 32px 200px 24px;
    box-shadow:10px 10px 0 #000;
    padding:18px;
    transform:scale(0);
    animation:pop .7s cubic-bezier(.68,-.55,.27,1.55) forwards;
}

.inner{
    border:2px dashed #000;
    padding:18px 16px 22px;
    background:rgba(255,255,255,.15);
    text-align:center;
}

/* OJOS */
.eyes{
    display:flex;
    justify-content:center;
    gap:14px;
}

.eye{
    width:46px;
    height:28px;
    background:var(--yellow);
    border:2px solid #000;
    border-radius:0 100% 0 100%;
    position:relative;
    overflow:hidden;
}

.eye:last-child{transform:scaleX(-1)}

.eye::after{
    content:"";
    position:absolute;
    inset:0;
    background:var(--yellow);
    transform-origin:center top;
    transform:scaleY(0);
    animation:blink 6s infinite;
}

.pupil{
    width:4px;
    height:18px;
    background:#b00000;
    position:absolute;
    left:50%;
    top:55%;
    transform:translate(-50%,-50%);
}

.brow{
    position:absolute;
    top:-9px;
    width:100%;
    height:12px;
    background:#000;
}

/* TEXTO */
h3{margin:4px 0;font-size:.95rem}

h1{
    font-size:4.2rem;
    margin:6px 0;
    color:var(--red);
    text-shadow:2px 2px #fff,4px 4px #000;
}

.age{
    background:var(--red);
    color:#fff;
    padding:8px 22px;
    border:3px solid #000;
    border-radius:50px;
    margin:10px 0;
}

/* NOTA */
.note{
    background:#fff3c4;
    border:3px solid #000;
    padding:16px;
    margin-top:12px;
    transform:rotate(-1deg);
}

.detail span{
    display:block;
    font-weight:700;
}

.stamp{
    margin-top:10px;
    background:var(--red);
    color:#fff;
    padding:6px 10px;
    display:inline-block;
    border:2px solid #000;
    transform:rotate(-4deg);
}

/* SONRISA */
.grinch-smile{
    width:80px;
    height:40px;
    border-bottom:6px solid var(--dark-green);
    border-radius:0 0 80px 80px;
    margin:22px auto 0;
    transform:scaleX(0);
    animation:smileIn .6s ease-out .9s forwards;
}

/* ANIMACIONES */
@keyframes shake{
    20%{transform:rotate(3deg)}
    40%{transform:rotate(-3deg)}
    60%{transform:rotate(4deg)}
    80%{transform:rotate(-4deg)}
}

@keyframes pulse{to{opacity:.6}}
@keyframes pop{to{transform:scale(1)}}
@keyframes blink{
    0%,92%,100%{transform:scaleY(0)}
    94%,96%{transform:scaleY(1)}
}
@keyframes smileIn{to{transform:scaleX(1)}}
@keyframes lidFly{to{transform:translateY(-220px) rotate(-35deg);opacity:0}}
@keyframes boxDrop{to{transform:translateY(180px) scale(.85);opacity:0}}
